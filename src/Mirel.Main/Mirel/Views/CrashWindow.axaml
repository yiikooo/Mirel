<u:UrsaWindow
    Background="Transparent"
    CanMaximize="True"
    CanMinimize="True"
    CanResize="True"
    DragDrop.AllowDrop="False"
    FontFamily="{DynamicResource MiSans}"
    FontWeight="{DynamicResource FontWeight}"
    Icon="../Icon.NoMargin.ico"
    IsCloseButtonVisible="False"
    IsFullScreenButtonVisible="False"
    IsHitTestVisible="True"
    IsTitleBarVisible="False"
    MinHeight="310"
    MinWidth="450"
    SystemDecorations="Full"
    Title="Aurelio"
    WindowStartupLocation="CenterScreen"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d"
    x:Class="Mirel.Views.CrashWindow"
    x:DataType="views:CrashWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:controls="clr-namespace:Mirel.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:u="https://irihi.tech/ursa"
    xmlns:views="clr-namespace:Mirel.Views"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Border
        Background="{DynamicResource BackgroundColor}"
        BorderBrush="{DynamicResource PanelBorderBrush}"
        BorderThickness="1"
        ClipToBounds="True"
        x:Name="Root">
        <Grid>
            <DockPanel>
                <Border
                    ClipToBounds="True"
                    DockPanel.Dock="Top"
                    VerticalAlignment="Top">
                    <Grid>
                        <controls:TitleBar
                            DockPanel.Dock="Top"
                            IsCloseBtnExitApp="False"
                            IsCloseBtnShow="True"
                            IsMaxBtnShow="True"
                            IsVisible="True"
                            Name="TitleBar" />
                        <DockPanel
                            Height="40"
                            HorizontalAlignment="Left"
                            Margin="14,0,0,0"
                            Name="TitleRoot"
                            VerticalAlignment="Top">
                            <Image
                                Height="24"
                                Margin="0,0,0,0"
                                VerticalAlignment="Center"
                                Width="24">
                                <Image.Source>
                                    <DrawingImage>
                                        <DrawingImage.Drawing>
                                            <DrawingGroup ClipGeometry="M0,0 V280 H280 V0 H0 Z">
                                                <DrawingGroup Opacity="1">
                                                    <GeometryDrawing Brush="#FF5EB5EA" Geometry="F1 M280,280z M0,0z M77.63,91.65C79.43,88.07 81.59,83.62 86.04,83.01 92.99,82.2 100.01,82.9 107,82.62 111.24,82.76 116.37,81.99 119.63,85.38 122.69,88.72 124.58,92.93 126.33,97.06 123.54,104.05 119.23,110.26 115.88,116.96 109.81,129.28 103.19,141.31 97.12,153.63 90.79,164.97 85.34,176.77 79.19,188.21 77.31,191.47 75.92,195.54 72.4,197.41 68.11,198.9 63.46,198.23 59,198.34 53.75,198.14 48.38,198.92 43.21,197.73 38.91,196.07 35.62,192.25 33.85,188.07 32.19,184.32 34.59,180.56 36.15,177.25 50.16,148.8 63.77,120.16 77.63,91.65z" />
                                                    <GeometryDrawing Brush="#FF5EB5EA" Geometry="F1 M280,280z M0,0z M159.91,90.93C161.8,87.68 163.91,83.63 168.03,83.02 174.98,82.16 182.02,82.92 189,82.6 193.03,82.72 197.8,81.97 200.98,85.04 205.04,89.05 206.82,94.65 209.43,99.6 219.96,122.34 231,144.84 241.48,167.6 243.8,172.87 246.98,177.8 248.57,183.37 249.96,188.6 245.85,193.12 242.03,196.06 238.37,199.01 233.37,198.25 229,198.37 223.05,198.12 217.04,198.84 211.13,197.9 207.81,197.41 205.62,194.57 204.25,191.74 199.64,182.1 194.74,172.59 190.13,162.95 187.33,157.59 185.02,151.97 181.76,146.87 179.35,149.32 178.13,152.6 176.52,155.58 171.14,165.89 165.81,176.23 160.62,186.64 158.29,190.69 156.44,195.97 151.67,197.69 145.55,199.03 139.22,198.04 133,198.37 128.54,198.23 122.87,199.36 119.8,195.21 116.54,190.72 113.86,185.7 112.16,180.41 114.7,176.49 117.13,172.5 119.27,168.35 126.78,154.01 134.45,139.76 141.73,125.3 148.18,114.05 153.77,102.35 159.91,90.93z" />
                                                </DrawingGroup>
                                                <DrawingGroup Opacity="1">
                                                    <GeometryDrawing Brush="#FF9DD7F6" Geometry="F1 M280,280z M0,0z M126.33,97.06C131.69,106.34 135.74,116.37 141.73,125.3 134.45,139.76 126.78,154.01 119.27,168.35 117.13,172.5 114.7,176.49 112.16,180.41 106.5,171.85 102.97,162.07 97.12,153.63 103.19,141.31 109.81,129.28 115.88,116.96 119.23,110.26 123.54,104.05 126.33,97.06z" />
                                                </DrawingGroup>
                                            </DrawingGroup>
                                        </DrawingImage.Drawing>
                                    </DrawingImage>
                                </Image.Source>
                            </Image>
                            <TextBlock
                                FontFamily="{DynamicResource MiSans}"
                                FontSize="14"
                                Foreground="{DynamicResource ForegroundColor}"
                                Margin="-1,0,0,0"
                                Text="irel"
                                VerticalAlignment="Center"
                                x:Name="TitleText" />
                        </DockPanel>
                    </Grid>
                </Border>
                <DockPanel>
                    <TextBlock
                        DockPanel.Dock="Top"
                        FontSize="24"
                        Margin="20,0,15,0"
                        Text="崩溃啦 o((&gt;ω&lt;))o "
                        TextWrapping="Wrap" />
                    <TextBlock
                        DockPanel.Dock="Top"
                        Margin="20,7,15,0"
                        Text="Mirel 遇到了没有处理的异常，可能无法继续运行，下方为异常的详细信息"
                        TextWrapping="Wrap" />
                    <DockPanel DockPanel.Dock="Bottom" VerticalAlignment="Bottom">
                        <Separator DockPanel.Dock="Top" Margin="20,0" />
                        <DockPanel Margin="0,10">
                            <u:IconButton
                                Content="复制到剪贴板"
                                Margin="10,0,0,0"
                                Name="Copy">
                                <u:IconButton.Icon>
                                    <PathIcon
                                        Data="M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"
                                        Height="16"
                                        Margin="0,-1,0,0"
                                        Width="14" />
                                </u:IconButton.Icon>
                            </u:IconButton>
                            <u:IconButton
                                Content="更多信息"
                                Margin="10,0,0,0"
                                Name="MoreInfo">
                                <u:IconButton.Icon>
                                    <PathIcon
                                        Data="F1 M512,512z M0,0z M416,208C416,253.9,401.1,296.3,376,330.7L502.6,457.4C515.1,469.9 515.1,490.2 502.6,502.7 490.1,515.2 469.8,515.2 457.3,502.7L330.7,376C296.3,401.1 253.9,416 208,416 93.1,416 0,322.9 0,208 0,93.1 93.1,0 208,0 322.9,0 416,93.1 416,208z M208,352A144,144,0,1,0,208,64A144,144,0,1,0,208,352z"
                                        Height="14"
                                        Margin="0,-1,0,0"
                                        Width="14" />
                                </u:IconButton.Icon>
                            </u:IconButton>
                            <StackPanel
                                DockPanel.Dock="Right"
                                HorizontalAlignment="Right"
                                Margin="10,0,10,0"
                                Orientation="Horizontal"
                                Spacing="10">
                                <u:IconButton Content="忽略错误，强制继续运行" Name="Continue">
                                    <u:IconButton.Icon>
                                        <PathIcon
                                            Data="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
                                            Height="13"
                                            Width="12" />
                                    </u:IconButton.Icon>
                                </u:IconButton>
                                <u:IconButton Content="退出应用" Name="Exit">
                                    <u:IconButton.Icon>
                                        <PathIcon
                                            Data="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"
                                            Height="15"
                                            Margin="0,0,-2,0"
                                            Width="15" />
                                    </u:IconButton.Icon>
                                </u:IconButton>
                                <u:IconButton
                                    Classes="accent"
                                    Content="重启应用"
                                    Name="Restart">
                                    <u:IconButton.Icon>
                                        <PathIcon
                                            Data="M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z"
                                            Height="14"
                                            Margin="0,0,-2,0"
                                            Width="14" />
                                    </u:IconButton.Icon>
                                </u:IconButton>
                            </StackPanel>
                        </DockPanel>
                    </DockPanel>
                    <ScrollViewer DockPanel.Dock="Top" Margin="20,10,15,10">
                        <ScrollViewer.OpacityMask>
                            <LinearGradientBrush EndPoint="0%,100%" StartPoint="0%,0%">
                                <GradientStop Color="Transparent" Offset="0" />
                                <GradientStop Color="Black" Offset="0.04" />

                                <GradientStop Color="Black" Offset="0.96" />
                                <GradientStop Color="Transparent" Offset="1" />
                            </LinearGradientBrush>
                        </ScrollViewer.OpacityMask>
                        <SelectableTextBlock
                            HorizontalAlignment="Left"
                            Margin="0,10,15,10"
                            Text="{Binding Info}"
                            TextWrapping="Wrap" />
                    </ScrollViewer>
                </DockPanel>
            </DockPanel>
        </Grid>
    </Border>
</u:UrsaWindow>