using System.Collections.Generic;
using Avalonia;
using Avalonia.Controls;
using Avalonia.Markup.Xaml;
using Mirel.Classes.Entries;
using Mirel.Classes.Interfaces;
using Mirel.Const;
using Mirel.ViewModels;
using Mirel.Views.Main.Pages.AsidePages;

namespace Mirel.Views.Main.Pages;

public partial class Aside : PageMixModelBase
{
    public NavEntry SelectedNav
    {
        get;
        set => SetField(ref field, value);
    } = Navs[0];

    public Aside()
    {
        InitializeComponent();
        DataContext = this;
        UiProperty.Notifications.CollectionChanged += (_, _) =>
        {
            Navs[2].Dot = UiProperty.Notifications.Count > 0;
        };
    }

    public static List<NavEntry> Navs { get; } =
    [
        new("Recent", new NewTabPage(),
            "F1 M 19.730377 2.543945 C 19.681549 2.324219 19.471588 2.114258 19.251862 2.06543 C 17.997055 1.796875 17.010765 1.796875 16.029396 1.796875 C 11.996422 1.796875 9.579582 3.955078 7.773018 6.796875 L 3.705864 6.796875 C 3.066254 6.796875 2.314339 7.260742 2.031136 7.832031 L 0.097656 11.689453 C 0.039062 11.821289 0.004883 11.962891 0 12.109375 C 0 12.626953 0.419884 13.046875 0.937462 13.046875 L 4.99485 13.046875 L 4.115982 13.925781 C 3.671646 14.370117 3.608208 15.185547 4.115982 15.693359 L 6.10321 17.680664 C 6.537743 18.115234 7.358017 18.193359 7.870674 17.680664 L 8.749542 16.801758 L 8.749542 20.859375 C 8.749542 21.376953 9.169426 21.796875 9.687004 21.796875 C 9.83345 21.791992 9.975052 21.757812 10.106888 21.699219 L 13.964119 19.770508 C 14.53537 19.482422 14.999161 18.735352 14.999161 18.095703 L 14.999161 14.013672 C 17.831039 12.207031 19.998894 9.780273 19.998894 5.771484 C 20.003777 4.785156 20.003777 3.798828 19.730377 2.543945 Z M 14.999161 8.359375 C 14.139862 8.359375 13.436775 7.661133 13.436775 6.796875 C 13.436775 5.932617 14.139862 5.234375 14.999161 5.234375 C 15.86338 5.234375 16.561584 5.932617 16.561584 6.796875 C 16.561584 7.661133 15.86338 8.359375 14.999161 8.359375 Z "),
        new("Tasks", new NewTabPage(),
            "F1 M448,512z M0,0z M288,160L384,160 384,96 288,96 288,160z M0,160L0,80C0,53.5,21.5,32,48,32L400,32C426.5,32,448,53.5,448,80L448,176C448,202.5,426.5,224,400,224L48,224C21.5,224,0,202.5,0,176L0,160z M160,416L384,416 384,352 160,352 160,416z M0,416L0,336C0,309.5,21.5,288,48,288L400,288C426.5,288,448,309.5,448,336L448,432C448,458.5,426.5,480,400,480L48,480C21.5,480,0,458.5,0,432L0,416z "),
        new("Notis", new NotificationPage(),
            "F1 M 10 21.796875 C 11.381836 21.796875 12.5 20.678711 12.5 19.296875 L 7.5 19.296875 C 7.5 20.678711 8.618164 21.796875 10 21.796875 Z M 18.413086 15.947266 C 17.661133 15.136719 16.245117 13.916016 16.245117 9.921875 C 16.245117 6.884766 14.121094 4.458008 11.25 3.862305 L 11.25 3.046875 C 11.25 2.358398 10.688477 1.796875 10 1.796875 C 9.311523 1.796875 8.75 2.358398 8.75 3.046875 L 8.75 3.862305 C 5.878906 4.458008 3.754883 6.884766 3.754883 9.921875 C 3.754883 13.916016 2.338867 15.136719 1.586914 15.947266 C 1.352539 16.201172 1.25 16.503906 1.25 16.796875 C 1.254883 17.436523 1.757812 18.046875 2.504883 18.046875 L 17.495117 18.046875 C 18.242188 18.046875 18.745117 17.436523 18.75 16.796875 C 18.75 16.503906 18.647461 16.201172 18.413086 15.947266 Z  "),
        new("Navs", new NewTabPage(),
            "F1 M512,512z M0,0z M477.9,75.5C482.4,63.7 479.6,50.3 470.7,41.4 461.8,32.5 448.4,29.6 436.6,34.2L20.6,194.2C7.9,199 -0.3,211.2 0,224.7 0.3,238.2 9.1,250.1 21.9,254.3L198.7,313.2 257.6,490C261.9,502.8 273.7,511.6 287.2,511.9 300.7,512.2 312.9,504 317.8,491.4L477.8,75.4z "),
    ];
}